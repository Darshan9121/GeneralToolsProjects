<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SignIt.io</title>
    <style>
        *{
            margin: 0px;
            padding: 0px;
        }
        .wrapper{
            width: 100vw;
            height: auto;
            /* margin:5px auto; */
            padding:8px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 10px;
        }
        header{
            width: 100%;
            height: fit-content;
            display: flex;
            flex-direction: column;
            /* justify-content: center; */
            align-items: center;
            gap:30px;
        }
     
main{
    width: 100vw;
    height: max-content;
    display: flex;
    justify-content: center;
    align-items: center;
}
        .signature{
            width: 100vw;
            height: auto;
       display: flex;
       flex-direction: column;
       gap: 6px;
      padding:0px;
      margin:4px 8px;
      /* margin:9px; */
            border: 3px solid black;
        }
      

        .nav{
            width: 100%;
            height: fit-content;
            display: flex;
            justify-content: space-between;
            align-items: center;
            /* background-color: blue; */
            list-style-type: none;
        }

        .nav li{
           width: max-content;
           height: max-content;
           padding:10px;
        }
        .nav li label{
            width: min-content;
            height: max-content;

        }
        .nav li input,select{
            width:100%;
        }
        .nav li select{
            padding:5px 1px ;
        }
        .nav li button{
            width: auto;
            height: auto;
            padding:10px;
        }
        .signature_canva{
            width: 100%;
            height: 600px;
            border: 1px solid green;
        }
        .signature_canva canvas{
            width: 100%;
            height: 100%;
            /* border: 1px solid red; */
            /* margin: 27px 20px; */
        }

        footer{
            padding: 5px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap:10px
            
        }
        footer .profile{
            width: 80px;
            height: 80px;
            border: none;
            border-radius: 59%;
            object-fit: cover;
            object-position: center;
        }
        footer p{
            text-align: center;
            font-family:Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif
        }

        footer .social{
            display: flex;
            list-style: none;
            justify-content: space-between;
            align-items: center;
            gap: 30px;

        }

      

@media only screen and (min-width:768px) {
    .wrapper{
        gap:10px;
        justify-content: center;
        align-items: center;
        padding: 5px;
        

    }
   .signature{
     margin: 10px 60px;
     height: fit-content;
   }
   .signature_canva{
    height: 50vh;
   }
    
    h1{
        color:blue;
        font-weight: bolder;
    }
  
    footer{
        width: 100vw;
        margin:0px auto;
        margin:auto;
        height: auto;
        flex-direction: row;
        justify-content: space-between;
        align-items: center;
        
    }
  .social{
     padding:5px 30px;
  }

   


}
    </style>
</head>
<body>
    <div class="wrapper">
        <header>
            <h1>SignIt.io</h1>
            <h4>A quick tool for your daily signature need to fulfill with advance feture like signature enhancing so what are you waiting try for free!</h4>
        </header>
        <main>
            <div class="signature">
                <div class="topMenu">
                    <ul class="nav">
                        <li>
                            <label for="color">Text Color Picker</label>
                            <input type="color" name="tcolor" id="tcolor"  onchange="change(this)">
                        </li>
                        <li>
                            <label for="color">Background</label>
                            <input type="color" name="bcolo" id="bcolor"  onchange="change(this)">
                            
                        </li>
                        <li>
                            <label for="color">Font Size</label>
                            <select name="size" id="size" onchange="change(this)">
                                <option value="5px" selected>5px</option>
                                <option value="10px">10px</option>
                                <option value="15px">15x</option>
                                <option value="20px">20px</option>
                                <option value="5px">Default</option>
                            </select>
                        </li>
                    </ul>
                </div>
                <div class="signature_canva">
                    <!-- Signature Window -->
                     <canvas id="canva">
 onC
                     </canvas>

                </div>
                <div class="topMenu">
                    <!-- Bottom Menu -->
                    <ul class="nav">
                        <li><Button onclick="Click(this)">Clear</Button></li>
                        <li><Button onclick="Click(this)">Save & Download</Button></li>
                        <li><Button onclick="Click(this)">Retrive saved signature</Button></li>
                    </ul>
                </div>
            </div>
        </main>
        <footer>
            <img src="assets/image.png" class="profile" alt="" srcset="">
            <p>Darshan Hiragar</p>
            <ul class="social">
                <li>
                  <a href="http://"
                    ><img src="assets/icon-twitter.svg" alt=""
                  /></a>
                </li>
                <li>
                  <a href="http://"
                    ><img src="assets/icon-whatsapp.svg" alt=""
                  /></a>
                </li>
                <li>
                  <a href="http://"
                    ><img src="assets/icon-linkedin.svg" alt=""
                  /></a>
                </li>
                <li>
                  <a href="http://"
                    ><img src="assets/icon-instagram.svg" alt=""
                  /></a>
                </li>
              </ul>
        </footer>
    </div>
    <script>
        let tcolor=document.getElementById("tcolor");
        let bcolor=document.getElementById("bcolor");
        let size=document.getElementById("size");
        let canva = document.querySelector("canvas");
        let ctx = canva.getContext("2d");
        var draw = false;
        var lastx;
        var lasty;
        var firstx;
        var firsty;

        

        function change(e) {
            
           let choice = e.name;
           let value = e.value;
        //    alert(choice);
        //    alert(value);
        switch(choice){
            case "tcolor":
                ctx.strokeStyle=value;
                break;
                case "bcolo":
                    ctx.fillStyle=value;
                    ctx.fillRect(0,0,canva.width,canva.height);
                    break;
                    case "size":
                        ctx.lineWidth(value);
        }
           
        }

        function Click(e){
            // alert(e.innerText);
            if(e.innerText == "Clear"){
                // ctx.clear();
                ctx.clearRect(0,0,canva.width,canva.height);
                // ctx.clearRect(0,0,ctx.width,ctx.height);
                // alert("canva clear");
            }
            else if(e.innerText == "Save & Download"){
                localStorage.setItem('canva',canva.toDataURL());
                let link = document.createElement("a");
                link.download="My-signature.jpg";
                link.href=canva.toDataURL();
                link.click();
                // alert("Save");
            }
            else if(e.innerText == "Retrive saved signature"){
                let save = localStorage.getItem('canva');
                // console.log(save);
                // if(save){
                    let img = new Image();
                    img.src=canva;
                    ctx.drawImage(img);
                
                // }
                // alert("retrieve");

            }
        }

        canva.addEventListener("mouseenter",()=>{
            // alert("you can draw.");
            // draw=true;
        })
        canva.addEventListener("mouseleave",()=>{
            // alert("you can not draw.");
            // draw=false;
        })

        canva.addEventListener("mousedown",()=>{
           draw=true;
            if(draw){

                lastx = event.offsetX;
                lasty=event.offsetY;
                
                // alert("start sign"+event.offsetX+" "+event.offsetY);
            }
               
            
        })

        canva.addEventListener("mousemove",()=>{
            if(draw){
                ctx.beginPath();
                ctx.moveTo(lastx,lasty);
                ctx.lineTo(event.offsetX,event.offsetY);
                ctx.stroke();
                lastx=event.offsetX;
                lasty=event.offsetY;
            }
            else{

            }
            // console.log("drawing continue");
        })
        canva.addEventListener("mouseup",()=>{
           draw=false;
        //    alert("mouse up");
        })



    </script>
</body>
</html>